<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Add New Watch</title>
        <%# css link %>

        <script>
    document.addEventListener("DOMContentLoaded", function() {
        const brandSelect = document.getElementById("brand");
        const otherBrandField = document.getElementById("otherBrand");
        
        function toggleOtherBrandField() {
            if (brandSelect.value === "Other") {
                otherBrandField.style.display = "block";
                otherBrandField.setAttribute("required", "required");
            } else {
                otherBrandField.style.display = "none";
                otherBrandField.removeAttribute("required");
            }
        }
        
        brandSelect.addEventListener("change", toggleOtherBrandField);
        toggleOtherBrandField(); // Ensure correct state on load
    });
</script>

    </head>
    <body>
        <h1>Add a New Watch</h1>
        <form action="/watches" method="POST">
            <label for="brand">Brand:</label>
            <form action="/watches" method="POST">
                <label for="brand">Brand:</label>
                <select id="brand" name="brand" required>
                    <option value="A. Lange & Söhne">A. Lange & Söhne</option>
                    <option value="Audemars Piguet">Audemars Piguet</option>
                    <option value="Baume & Mercier">Baume & Mercier</option>
                    <option value="Blancpain">Blancpain</option>
                    <option value="Bovet">Bovet</option>
                    <option value="Breguet">Breguet</option>
                    <option value="Breitling">Breitling</option>
                    <option value="Bulgari">Bulgari</option>
                    <option value="Cartier">Cartier</option>
                    <option value="Casio">Casio</option>
                    <option value="Chanel">Chanel</option>
                    <option value="Chopard">Chopard</option>
                    <option value="Corum">Corum</option>
                    <option value="De Bethune">De Bethune</option>
                    <option value="F.P. Journe">F.P. Journe</option>
                    <option value="Frank Muller">Frank Muller</option>
                    <option value="Frederique Constant">Frederique Constant</option>
                    <option value="Girard-Perregaux">Girard-Perregaux</option>
                    <option value="Glashütte Original">Glashütte Original</option>
                    <option value="Grand Seiko">Grand Seiko</option>
                    <option value="Greubel Forsey">Greubel Forsey</option>
                    <option value="H. Moser & Cie">H. Moser & Cie</option>
                    <option value="Hamiltion">Hamilton</option>
                    <option value="Harry Winston">Harry Winston</option>
                    <option value="Hermès">Hermès</option>
                    <option value="Hublot">Hublot</option>
                    <option value="IWC Schaffhausen">IWC Schaffhausen</option>
                    <option value="Jacob & Co.">Jacob & Co.</option>
                    <option value="Jaeger-LeCoultre">Jaeger-LeCoultre</option>
                    <option value="Laurent Ferrier">Laurent Ferrier</option>
                    <option value="Longines">Longines</option>
                    <option value="MB&F">MB&F</option>
                    <option value="Montblanc">Montblanc</option>
                    <option value="NOMOS Glashütte">NOMOS Glashütte</option>
                    <option value="Omega">Omega</option>
                    <option value="Oris">Oris</option>
                    <option value="Panerai">Panerai</option>
                    <option value="Parmigiani Fleurier">Parmigiani Fleurier</option>
                    <option value="Patek Philippe">Patek Philippe</option>
                    <option value="Piaget">Piaget</option>
                    <option value="Richard Mille">Richard Mille</option>
                    <option value="Rolex">Rolex</option>
                    <option value="Seiko">Seiko</option>
                    <option value="Sinn">Sinn</option>
                    <option value="Swatch">Swatch</option>
                    <option value="TAG Heuer">TAG Heuer</option>
                    <option value="Tudor">Tudor</option>
                    <option value="Ulysse Nardin">Ulysse Nardin</option>
                    <option value="Vacheron Constantin">Vacheron Constantin</option>
                    <option value="Zenith">Zenith</option>
                    <option value="Other">Other</option>
                </select>
    
                <input type="text" id="otherBrand" name="otherBrand"
                    placeholder="Enter brand name" style="display: none;">
                <%# <input type="text" id="brand" name="brand" required> %>

            <input type="text" id="otherBrand" name="otherBrand"
                placeholder="Enter brand name" style="display: none;">
            <%# <input type="text" id="brand" name="brand" required> %>

            <label for="model">Model:</label>
            <input type="text" id="model" name="model" required>

            <label for="referenceNumber">Reference Number:</label>
            <input type="text" id="referenceNumber" name="referenceNumber">

            <label for="purchasePrice">Purchase Price:</label>
            <input type="number" id="purchasePrice" name="purchasePrice"
                required>

            <label for="purchaseDate">Purchase Date:</label>
            <input type="date" id="purchaseDate" name="purchaseDate" required>

            <button type="submit">Add Watch</button>
        </form>
        <a href="/watches">Back to Watch List</a>
    </body>
</html>

<%# %>